{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nickolay\\\\front-end\\\\seminars-test-task\\\\src\\\\components\\\\common\\\\Paginator\\\\Paginator.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\nimport { changeCurrentPage, changePageSize } from \"../../../redux/seminarsSlice\";\nimport styles from './Paginator.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Paginator = () => {\n  _s();\n  const dispatch = useAppDispatch();\n  const currentPage = useAppSelector(state => state.seminarsReducer.currentPage);\n  const pageSize = useAppSelector(state => state.seminarsReducer.pageSize);\n  const itemsCount = useAppSelector(state => state.seminarsReducer.seminarsCount);\n  const pages = Math.ceil(itemsCount / pageSize) || 1;\n  useEffect(() => {\n    if (currentPage > pages) {\n      dispatch(changeCurrentPage(pages));\n    }\n  }, [dispatch, currentPage, pageSize, itemsCount, pages]);\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth'\n    });\n  }, [currentPage]);\n  const onPageChange = action => {\n    const newPage = currentPage + action;\n    if (newPage >= 1 && newPage <= Math.ceil(itemsCount / pageSize)) {\n      dispatch(changeCurrentPage(newPage));\n    }\n  };\n  const onPageSizeChange = e => {\n    console.log(pages);\n    console.log(currentPage);\n    dispatch(changePageSize(e.target.value));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.nav,\n    children: [itemsCount > 5 && /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: styles.nav__buttons,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onPageChange(-1),\n        className: currentPage === 1 ? styles.nav__buttonDisabled : '',\n        disabled: currentPage === 1,\n        children: \"Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onPageChange(1),\n        className: currentPage === pages ? styles.nav__buttonDisabled : '',\n        disabled: currentPage === pages,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: currentPage + ' / ' + pages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"pageSizeSelector\",\n        children: \"Select page size: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"pageSizeSelector\",\n        id: \"pageSizeSelector\",\n        onChange: onPageSizeChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"5\",\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10\",\n          children: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"25\",\n          children: \"25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_s(Paginator, \"JtdY9PBgU1knD2GyWdsm4/NOJ6o=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector, useAppSelector];\n});\n_c = Paginator;\nexport default Paginator;\nvar _c;\n$RefreshReg$(_c, \"Paginator\");","map":{"version":3,"names":["React","useEffect","useAppDispatch","useAppSelector","changeCurrentPage","changePageSize","styles","jsxDEV","_jsxDEV","Paginator","_s","dispatch","currentPage","state","seminarsReducer","pageSize","itemsCount","seminarsCount","pages","Math","ceil","window","scrollTo","top","left","behavior","onPageChange","action","newPage","onPageSizeChange","e","console","log","target","value","className","nav","children","nav__buttons","onClick","nav__buttonDisabled","disabled","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","name","id","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Nickolay/front-end/seminars-test-task/src/components/common/Paginator/Paginator.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\nimport {useAppDispatch, useAppSelector} from \"../../../redux/hooks\";\nimport {changeCurrentPage, changePageSize} from \"../../../redux/seminarsSlice\";\nimport styles from './Paginator.module.scss';\n\nconst Paginator = () => {\n\n    const dispatch = useAppDispatch()\n    const currentPage = useAppSelector(state => state.seminarsReducer.currentPage)\n    const pageSize = useAppSelector(state => state.seminarsReducer.pageSize)\n    const itemsCount = useAppSelector(state => state.seminarsReducer.seminarsCount)\n    const pages = Math.ceil(itemsCount / pageSize) || 1\n\n    useEffect(() => {\n        if (currentPage > pages) {\n            dispatch(changeCurrentPage(pages))\n        }\n    },[dispatch, currentPage, pageSize, itemsCount, pages])\n\n    useEffect(() => {\n        window.scrollTo({top: 0, left: 0, behavior: 'smooth'});\n    }, [currentPage])\n\n    const onPageChange = (action: number) => {\n        const newPage = currentPage + action\n        if (newPage >= 1 && newPage <= Math.ceil(itemsCount / pageSize)) {\n            dispatch(changeCurrentPage(newPage))\n        }\n    }\n\n    const onPageSizeChange = (e: any) => {\n        console.log(pages)\n        console.log(currentPage)\n        dispatch(changePageSize(e.target.value))\n    }\n\n    return (\n        <div className={styles.nav}>\n            {\n                itemsCount > 5 &&\n                <nav className={styles.nav__buttons}>\n                    <button onClick={() => onPageChange(-1)}\n                            className={currentPage === 1 ? styles.nav__buttonDisabled : ''}\n                            disabled={currentPage === 1}\n                    >\n                        Prev\n                    </button>\n                    <button onClick={() => onPageChange(1)}\n                            className={currentPage === pages ? styles.nav__buttonDisabled : ''}\n                            disabled={currentPage === pages}\n                    >\n                        Next\n                    </button>\n                </nav>\n            }\n            <div>\n                <p>{currentPage + ' / ' + pages}</p>\n                <label htmlFor=\"pageSizeSelector\">Select page size: </label>\n                <select name=\"pageSizeSelector\" id=\"pageSizeSelector\" onChange={onPageSizeChange}>\n                    <option value=\"5\">5</option>\n                    <option value=\"10\">10</option>\n                    <option value=\"25\">25</option>\n                </select>\n            </div>\n        </div>\n    );\n};\n\nexport default Paginator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}