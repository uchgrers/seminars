{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nickolay\\\\front-end\\\\seminars-test-task\\\\src\\\\components\\\\SeminarEditFormModal\\\\SeminarEditFormModal.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport styles from './SeminarEditFormModal.module.scss';\nimport Overlay from \"../common/Overlay/Overlay\";\nimport { useEscapeModalCloser } from \"../../redux/hooks\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SeminarEditFormModal = props => {\n  _s();\n  useEscapeModalCloser(props.cancel);\n\n  // Функция для преобразования формата даты для отображения в поле ввода\n  const formatDateForInput = dateStr => {\n    const parts = dateStr.split(\".\");\n    if (parts.length === 3) {\n      const [day, month, year] = parts;\n      return `${year}-${month}-${day}`; // Преобразование в YYYY-MM-DD\n    }\n    return dateStr;\n  };\n\n  // Функция для преобразования формата даты при редактировании\n  const handleDateChange = e => {\n    const newDate = e.target.value; // Формат YYYY-MM-DD\n    const parts = newDate.split(\"-\");\n    if (parts.length === 3) {\n      const [year, month, day] = parts;\n      props.setSeminarData({\n        ...props.seminarData,\n        date: `${day}.${month}.${year}` // Преобразование обратно в DD.MM.YYYY\n      });\n    }\n  };\n\n  // Функция для выделения URL из ссылки на изображение\n  const extractUrl = url => {\n    try {\n      const urlObj = new URL(url);\n      if (urlObj.hostname.includes('google.') && urlObj.pathname.includes('imgres')) {\n        const urlParam = urlObj.searchParams.get('imgurl');\n        if (urlParam) return decodeURIComponent(urlParam);\n      }\n      return url;\n    } catch (error) {\n      return url;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: props.isEditFormOpen && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Overlay, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: styles.form,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.form__field,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.form__input_label,\n            htmlFor: \"title\",\n            children: \"Title*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"title\",\n            type: \"text\",\n            value: props.seminarData.title,\n            placeholder: \"Title\",\n            onChange: e => props.setSeminarData({\n              ...props.seminarData,\n              title: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.form__field,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.form__input_label,\n            htmlFor: \"description\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"description\",\n            value: props.seminarData.description,\n            placeholder: \"Description\",\n            onChange: e => props.setSeminarData({\n              ...props.seminarData,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.form__input_label,\n            htmlFor: \"date\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"date\",\n            value: formatDateForInput(props.seminarData.date),\n            onChange: handleDateChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.form__input_label,\n            htmlFor: \"time\",\n            children: \"Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"time\",\n            id: \"time\",\n            value: props.seminarData.time,\n            onChange: e => props.setSeminarData({\n              ...props.seminarData,\n              time: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.form__input_label,\n            htmlFor: \"photo\",\n            children: \"Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            id: \"photo\",\n            value: props.seminarData.photo,\n            onChange: e => props.setSeminarData({\n              ...props.seminarData,\n              photo: extractUrl(e.target.value)\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.editSeminarData,\n          children: \"Edit seminar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.cancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n_s(SeminarEditFormModal, \"wcvlwAJMdb+z+TUymFnA7C//pvA=\", false, function () {\n  return [useEscapeModalCloser];\n});\n_c = SeminarEditFormModal;\nexport default SeminarEditFormModal;\nvar _c;\n$RefreshReg$(_c, \"SeminarEditFormModal\");","map":{"version":3,"names":["React","styles","Overlay","useEscapeModalCloser","jsxDEV","_jsxDEV","Fragment","_Fragment","SeminarEditFormModal","props","_s","cancel","formatDateForInput","dateStr","parts","split","length","day","month","year","handleDateChange","e","newDate","target","value","setSeminarData","seminarData","date","extractUrl","url","urlObj","URL","hostname","includes","pathname","urlParam","searchParams","get","decodeURIComponent","error","children","isEditFormOpen","fileName","_jsxFileName","lineNumber","columnNumber","className","form","form__field","form__input_label","htmlFor","id","type","title","placeholder","onChange","description","time","photo","onClick","editSeminarData","_c","$RefreshReg$"],"sources":["C:/Users/Nickolay/front-end/seminars-test-task/src/components/SeminarEditFormModal/SeminarEditFormModal.tsx"],"sourcesContent":["import React from 'react';\nimport styles from './SeminarEditFormModal.module.scss';\nimport Overlay from \"../common/Overlay/Overlay\";\nimport {useEscapeModalCloser} from \"../../redux/hooks\";\nimport {SeminarItemType} from \"../../types\";\n\ntype SeminarEditFormType = {\n    seminarData: SeminarItemType,\n    editSeminarData: (e: React.FormEvent) => void,\n    cancel: () => void,\n    cancelEditing: () => void,\n    setSeminarData: (seminarData: SeminarItemType) => void,\n    isEditFormOpen: boolean\n}\n\nconst SeminarEditFormModal: React.FC<SeminarEditFormType> = (props) => {\n\n    useEscapeModalCloser(props.cancel)\n\n\n    // Функция для преобразования формата даты для отображения в поле ввода\n    const formatDateForInput = (dateStr: string): string => {\n        const parts = dateStr.split(\".\")\n        if (parts.length === 3) {\n            const [day, month, year] = parts\n            return `${year}-${month}-${day}` // Преобразование в YYYY-MM-DD\n        }\n        return dateStr\n    }\n\n    // Функция для преобразования формата даты при редактировании\n    const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const newDate = e.target.value // Формат YYYY-MM-DD\n        const parts = newDate.split(\"-\")\n        if (parts.length === 3) {\n            const [year, month, day] = parts\n            props.setSeminarData({\n                ...props.seminarData,\n                date: `${day}.${month}.${year}` // Преобразование обратно в DD.MM.YYYY\n            })\n        }\n    }\n\n    // Функция для выделения URL из ссылки на изображение\n    const extractUrl = (url: string): string => {\n        try {\n            const urlObj = new URL(url)\n            if (urlObj.hostname.includes('google.') && urlObj.pathname.includes('imgres')) {\n                const urlParam = urlObj.searchParams.get('imgurl')\n                if (urlParam) return decodeURIComponent(urlParam)\n            }\n            return url\n        } catch (error) {\n            return url\n        }\n    }\n\n    return (\n        <>\n            {props.isEditFormOpen &&\n                <>\n                    <Overlay/>\n                    <form className={styles.form}>\n                        <div className={styles.form__field}>\n                            <label className={styles.form__input_label} htmlFor=\"title\">\n                                Title*\n                            </label>\n                            <input id=\"title\"\n                                   type=\"text\"\n                                   value={props.seminarData.title}\n                                   placeholder=\"Title\"\n                                   onChange={(e) => props.setSeminarData({\n                                       ...props.seminarData,\n                                       title: e.target.value\n                                   })}/>\n                        </div>\n                        <div className={styles.form__field}>\n                            <label className={styles.form__input_label} htmlFor=\"description\">Description</label>\n                            <input id=\"description\"\n                                   value={props.seminarData.description}\n                                   placeholder=\"Description\"\n                                   onChange={(e) => props.setSeminarData({\n                                       ...props.seminarData,\n                                       description: e.target.value\n                                   })}\n                            />\n                        </div>\n                        <div>\n                            <label className={styles.form__input_label} htmlFor=\"date\">Date</label>\n                            <input type=\"date\"\n                                   id=\"date\"\n                                   value={formatDateForInput(props.seminarData.date)}\n                                   onChange={handleDateChange}\n                            />\n                        </div>\n                        <div>\n                            <label className={styles.form__input_label} htmlFor=\"time\">Time</label>\n                            <input type=\"time\"\n                                   id=\"time\"\n                                   value={props.seminarData.time}\n                                   onChange={(e) => props.setSeminarData({\n                                       ...props.seminarData,\n                                       time: e.target.value\n                                   })}\n                            />\n                        </div>\n                        <div>\n                            <label className={styles.form__input_label} htmlFor=\"photo\">Photo</label>\n                            <input type=\"url\"\n                                   id=\"photo\"\n                                   value={props.seminarData.photo}\n                                   onChange={(e) => props.setSeminarData({\n                                       ...props.seminarData,\n                                       photo: extractUrl(e.target.value)\n                                   })}\n                            />\n                        </div>\n                        <button onClick={props.editSeminarData}>\n                            Edit seminar\n                        </button>\n                        <button onClick={props.cancel}>Cancel</button>\n                    </form>\n                </>\n            }\n            </>\n    );\n}\n\n\nexport default SeminarEditFormModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}